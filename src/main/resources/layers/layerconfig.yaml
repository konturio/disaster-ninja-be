layers:
  configs:
    ##### Category: NONE
    ### Group: Layers in selected area

    ## Event Shape: default config
    - id: 'eventShape'
      globalOverlay: false
      displayLegendIfNoFeaturesExist: true
      boundaryRequiredForRetrieval: false
      name: 'Event shape'
      group: 'Layers in selected area'
      legend:
        type: 'simple'
        steps:
          - stepName: 'Exposure Area'
            stepShape: 'circle'
            style:
              width: '3px'
              color: '#051626'

    ## Event Shape: configs per event type
    - id: 'eventShape.CYCLONE'
      globalOverlay: false
      displayLegendIfNoFeaturesExist: false
      boundaryRequiredForRetrieval: false
      name: 'Event shape'
      group: 'Layers in selected area'
      legend:
        type: 'simple'
        steps:
          - stepName: 'Centroid'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Point_Centroid'
            style:
              fill-color: '#051626'
              width: 3px
              color: '#fff'
          - stepName: 'Exposure Area 60 km/h'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Green'
            style:
              width: 3px
              color: '#F5A663'
          - stepName: 'Exposure Area 90 km/h'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Orange'
            style:
              width: 3px
              color: '#DA5080'
          - stepName: 'Exposure Area 120 km/h'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Red'
            style:
              width: 2px
              color: '#830909'
          - stepName: 'Line Track'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Line_Line_[0-9]+'
            style:
              color: '#8C949B'
          - stepName: 'Point Track'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Point_Polygon_Point_[0-9]+'
            style:
              color: '#8C949B'
          - stepName: 'Uncertainty Cones'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Cones'
            style:
              width: 1px
              color: '#646F78'

    - id: 'eventShape.DROUGHT'
      globalOverlay: false
      displayLegendIfNoFeaturesExist: false
      boundaryRequiredForRetrieval: false
      name: 'Event shape'
      group: 'Layers in selected area'
      legend:
        type: 'simple'
        steps:
          - stepName: 'Centroid'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Point_Centroid'
            style:
              fill-color: '#051626'
              width: 3px
              color: '#fff'
          - stepName: 'Exposure Area'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_area'
            style:
              width: 3px
              color: '#051626'

    - id: 'eventShape.EARTHQUAKE'
      globalOverlay: false
      displayLegendIfNoFeaturesExist: false
      boundaryRequiredForRetrieval: false
      name: 'Event shape'
      group: 'Layers in selected area'
      legend:
        type: 'simple'
        steps:
          - stepName: 'Centroid'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Point_Centroid'
            style:
              fill-color: '#051626'
              width: 3px
              color: '#fff'
          - stepName: 'Exposure Area 100km'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Circle'
            style:
              width: 3px
              color: '#646F78'

    - id: 'eventShape.FLOOD'
      globalOverlay: false
      displayLegendIfNoFeaturesExist: false
      boundaryRequiredForRetrieval: false
      name: 'Event shape'
      group: 'Layers in selected area'
      legend:
        type: 'simple'
        steps:
          - stepName: 'Centroid'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Point_Centroid'
            style:
              fill-color: '#051626'
              width: 3px
              color: '#fff'
          - stepName: 'Exposure Area'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Affected'
            style:
              width: 3px
              color: '#051626'
          - stepName: 'Alert Area'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Global'
            style:
              width: 2px
              color: '#051626'
              opacity: 50%

    - id: 'eventShape.WILDFIRE'
      globalOverlay: false
      displayLegendIfNoFeaturesExist: false
      boundaryRequiredForRetrieval: false
      name: 'Event shape'
      group: 'Layers in selected area'
      legend:
        type: 'simple'
        steps:
          - stepName: 'Centroid'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Point_Centroid'
            style:
              fill-color: '#051626'
              width: 3px
              color: '#fff'
          - stepName: 'Exposure Area'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_area'
            style:
              width: 3px
              color: '#051626'

    - id: 'eventShape.VOLCANO'
      globalOverlay: false
      displayLegendIfNoFeaturesExist: false
      boundaryRequiredForRetrieval: false
      name: 'Event shape'
      group: 'Layers in selected area'
      legend:
        type: 'simple'
        steps:
          - stepName: 'Centroid'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Point_Centroid'
            style:
              fill-color: '#051626'
              width: 3px
              color: '#fff'
          - stepName: 'Exposure Area 100Km'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Circle'
            style:
              width: 3px
              color: '#051626'
          - stepName: 'Exposure Area'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Cones_0'
            style:
              width: 3px
              color: '#051626'
          - stepName: '6 hours Forecast'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Cones_6'
            style:
              width: 2px
              color: '#051626'
              opacity: 70%
          - stepName: '12 hours Forecast'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Cones_12'
            style:
              width: 2px
              color: '#051626'
              opacity: 50%
          - stepName: '18 hours Forecast'
            stepShape: 'circle'
            paramName: 'Class'
            paramValue: 'Poly_Cones_18'
            style:
              width: 2px
              color: '#051626'
              opacity: 30%

    # --- empty template ---
    #- id: 'eventShape.'
    #  globalOverlay: false
    #  displayLegendIfNoFeaturesExist: false
    #  boundaryRequiredForRetrieval: false
    #  name: 'Event shape'
    #  group: 'Layers in selected area'
    #  legend:
    #    type: 'simple'
    #    steps:
    #      - stepName: 'Centroid'
    #        paramName: 'Class'
    #        paramValue: 'Point_Centroid'
    #        paramValue: 'Poly_area'
    #        paramValue: 'Poly_Circle'
    #        paramValue: 'Poly_Affected'
    #        paramValue: 'Poly_Global'
    #        style:
    #          fill-color: '#051626'
    #          width: 3px
    #          color: '#fff'

    ##end of Event Shape

    - id: 'kontur_urban_core'
      globalOverlay: false
      name: "Kontur Urban Core"
      displayLegendIfNoFeaturesExist: true
      boundaryRequiredForRetrieval: true
      group: 'Layers in selected area'
      copyrights:
        - '© Kontur'
      legend:
        type: 'simple'
        steps:
          - stepShape: 'hex'
            style:
              color: '#FF7B00'
              width: 3
              offset: 4
              casing-offset: 2
              casing-color: '#FF7B00'
              casing-width: 3
              casing-opacity: 0.5
    - id: 'kontur_settled_periphery'
      globalOverlay: false
      name: "Kontur Settled Periphery"
      displayLegendIfNoFeaturesExist: true
      boundaryRequiredForRetrieval: true
      group: 'Layers in selected area'
      copyrights:
        - '© Kontur'
      legend:
        type: 'simple'
        steps:
          - stepShape: 'hex'
            style:
              color: '#2AD72A'
              width: 3
              casing-offset: 2
              casing-color: '#2AD72A'
              casing-width: 3
              casing-opacity: 0.5

    ##### Category: OVERLAY
    ### Group: Kontur
    - id: 'activeContributors'
      globalOverlay: true
      displayLegendIfNoFeaturesExist: true #can't be filtered until MVT tiles are read
      boundaryRequiredForRetrieval: false
      name: 'Active contributors'
      category: 'overlay'
      group: 'Kontur'
      description: 'Contributors are labeled as active based on their mapping activity in the area for the past 2 years. We consider OpenStreetMap users to be local and mark them green if most of their edits were made close to that area.'
      copyrights:
        - '© OpenStreetMap Contributors, © Kontur'
      source:
        type: 'vector'
        urls:
          - '{tilesHost}/tiles/stats/{x}/{y}/{z}.mvt'
        tileSize: 512
      legend:
        sourceLayer: 'users' #todo 'hexagon' is the sourceLayer for geometries, 'users' for nicknames
        type: 'simple'
        steps:
          - stepName: 'Possibly local mappers'
            stepShape: 'circle'
            text: '{top_user}'
            paramName: 'is_local'
            paramValue: true
            style:
              color: '#009100' #todo use icon instead
          - stepName: 'Active mappers'
            stepShape: 'circle'
            text: '{top_user}'
            paramName: 'is_local'
            paramValue: false
            style:
              color: '#434343' #todo use icon instead

    - id: 'hotProjects'
      globalOverlay: false
      displayLegendIfNoFeaturesExist: false
      boundaryRequiredForRetrieval: true
      name: 'Hot Projects'
      description: 'Projects on HOT Tasking Manager, ongoing and historical'
      category: 'overlay'
      group: 'Kontur'
      copyrights:
        - '© Humanitarian OpenStreetMap Team, © Kontur'
      legend:
        type: 'simple'
        linkProperty: 'projectLink'
        steps:
          - stepName: 'Published'
            stepShape: 'icon'
            paramName: 'status'
            paramValue: 'PUBLISHED'
            style:
              icon: 'hot-red'
              text: '{projectId} - {projectPriority}'
          - stepName: 'Archived'
            stepShape: 'icon'
            paramName: 'status'
            paramValue: 'ARCHIVED'
            style:
              icon: 'hot-gray'
              text: '{projectId} - {projectPriority}'

    ### Group: Kontur Analytical Layers
    - id: 'Kontur OpenStreetMap Quantity'
      globalOverlay: true
      boundaryRequiredForRetrieval: false
      name: 'OSM Object Quantity'
      category: 'overlay'
      group: 'Kontur Analytical Layers'
      legend:
        sourceLayer: 'stats'
        type: 'bivariate'
      copyrights:
        - '© OpenStreetMap contributors https://www.openstreetmap.org/copyright'
        - 'Concept of areas © Brahmagupta, René Descartes'
        - '© Kontur https://kontur.io/'
        - 'Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL © 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/, Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016, Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050, Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL)., NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/, Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping, Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/'
      source:
        type: 'vector'
        urls:
          - '{tilesHost}/tiles/stats/{x}/{y}/{z}.mvt'
        tileSize: 512
    - id: 'Kontur OpenStreetMap Building Quantity'
      globalOverlay: true
      boundaryRequiredForRetrieval: false
      name: 'OSM Building Quantity'
      category: 'overlay'
      group: 'Kontur Analytical Layers'
      legend:
        type: 'bivariate'
        sourceLayer: 'stats'
      copyrights:
        - '© OpenStreetMap contributors https://www.openstreetmap.org/copyright'
        - 'Concept of areas © Brahmagupta, René Descartes'
        - '© Kontur https://kontur.io/'
        - 'Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL © 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/, Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016, Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050, Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL)., NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/, Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping, Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/'
      source:
        type: 'vector'
        urls:
          - '{tilesHost}/tiles/stats/{x}/{y}/{z}.mvt'
        tileSize: 512
    - id: 'Kontur OpenStreetMap Road Length'
      globalOverlay: true
      boundaryRequiredForRetrieval: false
      name: 'OSM Road Length'
      category: 'overlay'
      group: 'Kontur Analytical Layers'
      legend:
        type: 'bivariate'
        sourceLayer: 'stats'
      copyrights:
        - '© OpenStreetMap contributors https://www.openstreetmap.org/copyright'
        - 'Concept of areas © Brahmagupta, René Descartes'
        - '© Kontur https://kontur.io/'
        - 'Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL © 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/, Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE). AGILE 2016, Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020). Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050, Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL)., NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/, Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping, Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/'
      source:
        type: 'vector'
        urls:
          - '{tilesHost}/tiles/stats/{x}/{y}/{z}.mvt'
        tileSize: 512
    - id: 'Kontur OpenStreetMap Mapping Activity'
      globalOverlay: true
      boundaryRequiredForRetrieval: false
      name: 'OSM Mapping Activity'
      category: 'overlay'
      group: 'Kontur Analytical Layers'
      legend:
        type: 'bivariate'
        sourceLayer: 'stats'
      copyrights:
        - '© Kontur https://kontur.io/'
        - '© OpenStreetMap contributors https://www.openstreetmap.org/copyright'
        - 'Concept of areas © Brahmagupta, René Descartes'
      source:
        type: 'vector'
        urls:
          - '{tilesHost}/tiles/stats/{x}/{y}/{z}.mvt'
        tileSize: 512
    - id: 'Kontur OpenStreetMap Antiquity'
      globalOverlay: true
      boundaryRequiredForRetrieval: false
      name: 'OSM Antiquity'
      category: 'overlay'
      group: 'Kontur Analytical Layers'
      legend:
        type: 'bivariate'
        sourceLayer: 'stats'
      copyrights:
        - '© OpenStreetMap contributors https://www.openstreetmap.org/copyright'
        - 'Numbers © Muḥammad ibn Mūsā al-Khwārizmī'
        - 'Concept of areas © Brahmagupta, René Descartes'
      source:
        type: 'vector'
        urls:
          - '{tilesHost}/tiles/stats/{x}/{y}/{z}.mvt'
        tileSize: 512
    - id: 'Kontur Nighttime Heatwave Risk'
      globalOverlay: true
      boundaryRequiredForRetrieval: false
      name: 'Kontur Nighttime Heatwave Risk'
      category: 'overlay'
      group: 'Kontur Analytical Layers'
      legend:
        type: 'bivariate'
        sourceLayer: 'stats'
      copyrights:
        - '© 2021 Probable Futures, a Project of the SouthCoast Community Foundation. https://probablefutures.org/'
        - 'CC BY 4.0, Numbers © Muḥammad ibn Mūsā al-Khwārizmī'
        - '© Kontur https://kontur.io/'
        - 'Facebook Connectivity Lab and Center for International Earth Science Information Network - CIESIN - Columbia University. 2016. High Resolution Settlement Layer (HRSL). Source imagery for HRSL © 2016 DigitalGlobe. https://dataforgood.fb.com/tools/population-density-maps/, Dataset: Schiavina, Marcello; Freire, Sergio; MacManus, Kytt (2019): GHS population grid multitemporal (1975, 1990, 2000, 2015) R2019A. European Commission, Joint Research Centre (JRC) DOI: 10.2905/42E8BE89-54FF-464E-BE7B-BF9E64DA5218 PID: http://data.europa.eu/89h/0c6b9751-a71f-4062-830b-43c9f432370f Concept & Methodology: Freire, Sergio; MacManus, Kytt; Pesaresi, Martino; Doxsey-Whitfield, Erin; Mills, Jane (2016): Development of new open and free multi-temporal global population grids at 250 m resolution. Geospatial Data in a Changing World; Association of Geographic Information Laboratories in Europe (AGILE)'
        - 'AGILE 2016, Copernicus Global Land Service: Land Cover 100 m: Marcel Buchhorn, Bruno Smets, Luc Bertels, Bert De Roo, MyroslavaLesiv, Nandin - Erdene Tsendbazar, … Steffen Fritz. (2020)'
        - 'Copernicus Global Land Service: Land Cover 100m: collection 3: epoch 2019: Globe (Version V3.0.1) Data set. Zenodo. http://doi.org/10.5281/zenodo.3939050, Microsoft Buildings: Australia, Canada, Tanzania, Uganda, USA: This data is licensed by Microsoft under the Open Data Commons Open Database License (ODbL)., NZ Building Outlines data sourced from the LINZ Data Service - https://data.linz.govt.nz/'
        - 'Geoalert Urban Mapping: Chechnya, Moscow region, Tyva - https://github.com/Geoalert/urban-mapping'
        - 'Unconstrained Individual countries 2020 (100m resolution): WorldPop - https://www.worldpop.org/'
        - '© OpenStreetMap contributors https://www.openstreetmap.org/copyright'
        - 'Concept of areas © Brahmagupta, René Descartes'
      source:
        type: 'vector'
        urls:
          - '{tilesHost}/tiles/stats/{x}/{y}/{z}.mvt'
        tileSize: 512
  ##### Category: BASELINE

    - id: 'Bing'
      source:
        type: 'raster'
        urls:
          - 'http://ecn.t0.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=6937'
          - 'http://ecn.t1.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=6937'
          - 'http://ecn.t2.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=6937'
          - 'http://ecn.t3.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=6937'
          - 'http://ecn.t4.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=6937'
          - 'http://ecn.t5.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=6937'
          - 'http://ecn.t6.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=6937'
          - 'http://ecn.t7.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=6937'